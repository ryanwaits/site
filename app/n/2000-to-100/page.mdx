import { AnimatedName } from '../animated-name.tsx';

export const metadata = {
  title: 'From 2000 Lines to 100',
  description: 'Deleted 95% of the codebase. The tool got better.',
  alternates: {
    canonical: '/n/2000-to-100',
  },
};

<AnimatedName date="December 2025" />

# From 2000 Lines to 100

doccov started as a CLI. 2000 lines of TypeScript encoding human judgment about documentation quality.

What counted as "documented"? How much drift was acceptable? When should a warning become an error? All encoded in code. All opinions frozen into if-statements.

Then the realization: that's not logic. That's _judgment_. And judgment is what LLMs do.

## The deletion

The entire doccov CLI reduced to a question: given an API surface and its documentation, what's missing or wrong?

That question doesn't need 2000 lines. It needs a prompt.

So we deleted the CLI. Wrote a skill file instead — `~/.claude/skills/drift.md`. About 100 lines of prose explaining:

- What openpkg primitives exist
- How to compose them for doc-sync workflows
- What to look for (missing exports, stale examples, naming drift)
- How to report findings

No code. No releases. No maintenance.

## What the skill does

The skill teaches agents recipes:

**Find stale documentation:**
1. `openpkg diff old.json new.json`
2. Grep for changed export names in docs/
3. Read matching files
4. Report what's outdated

**Pre-release audit:**
1. `openpkg snapshot` current state
2. `openpkg diff` against last release
3. For each breaking change, verify docs mention it
4. Report gaps

Same primitives, different compositions. New workflow? Write a new recipe. Ship nothing.

## What it found

The skill found issues the CLI couldn't:

- **Semantic drift** — docs said `model`, code said `modelId`
- **Outdated examples** — code that compiled but used deprecated patterns
- **Naming inconsistencies** — parameter called `config` in docs, `options` in code

Static analysis can't catch these. An LLM reading both surfaces can.

## The principle

The doccov CLI encoded judgment in code. The drift skill encodes judgment in prose. Same capability, 95% less maintenance.

New features = new prompts, not new code. The best CLI is no CLI.
